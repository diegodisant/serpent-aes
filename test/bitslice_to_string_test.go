package test

import "testing"
import t "serpent_aes/types"

func TestBitSliceToString(test *testing.T) {
	var bitstring t.Bitstring
	var bitstringSlice t.BitSlice = t.BitSlice{
		"00100110100001100010111010000110001001101000011000101110100001100010011010000110001011101000011000100110100001100010111010000110",
		"00100110100001100010111010000110001001101000011000101110100001100010011010000110001011101000011000100110100001100010111010000110",
		"00100110100001100010111010000110001001101000011000101110100001100010011010000110001011101000011000100110100001100010111010000110",
		"00100110100001100010111010000110001001101000011000101110100001100010011010000110001011101000011000100110100001100010111010000110",
	}
	var expectedString string = "datadatadatadatadatadatadatadata" + "datadatadatadatadatadatadatadata"

	var outputString string = bitstring.FromBitstringSliceToString(bitstringSlice)

	if expectedString != outputString {
		test.Errorf("Decoded bitslice doesn't match with data-string %s\n!=\n%s", expectedString, outputString)
		test.Fail()
	}
}
